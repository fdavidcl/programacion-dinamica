%%%
% Modificación de una plantilla de Latex para adaptarla al castellano.
%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Thin Sectioned Essay
% LaTeX Template
% Version 1.0 (3/8/13)
%
% This template has been downloaded from:
% http://www.LaTeXTemplates.com
%
% Original Author:
% Nicolas Diaz (nsdiaz@uc.cl) with extensive modifications by:
% Vel (vel@latextemplates.com)
%
% License:
% CC BY-NC-SA 3.0 (http://creativecommons.org/licenses/by-nc-sa/3.0/)
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%----------------------------------------------------------------------------------------
%	PACKAGES AND OTHER DOCUMENT CONFIGURATIONS
%----------------------------------------------------------------------------------------

\documentclass[a4paper, 11pt]{article} % Font size (can be 10pt, 11pt or 12pt) and paper size (remove a4paper for US letter paper)

\usepackage[protrusion=true,expansion=true]{microtype} % Better typography
\usepackage{graphicx} % Required for including pictures
\usepackage{wrapfig} % Allows in-line images
\usepackage[spanish]{babel} % English language/hyphenation
\selectlanguage{spanish}
\usepackage[utf8]{inputenc}

\usepackage{mathpazo} % Use the Palatino font
\usepackage{amsmath}
\usepackage[T1]{fontenc} % Required for accented characters
\linespread{1.05} % Change line spacing here, Palatino benefits from a slight increase by default

\makeatletter
\renewcommand\@biblabel[1]{\textbf{#1.}} % Change the square brackets for each bibliography item from '[1]' to '1.'
\renewcommand{\@listI}{\itemsep=0pt} % Reduce the space between items in the itemize and enumerate environments and the bibliography

\renewcommand{\maketitle}{ % Customize the title - do not edit title and author name here, see the TITLE block below
\begin{flushright} % Right align
{\LARGE\@title} % Increase the font size of the title

\vspace{50pt} % Some vertical space between the title and author name

{\large\@author} % Author name
\\\@date % Date

\vspace{40pt} % Some vertical space between the author block and abstract
\end{flushright}
}

%----------------------------------------------------------------------------------------
%	TITLE
%----------------------------------------------------------------------------------------

\title{\textbf{Práctica 5}\\ % Title
Programación Dinámica} % Subtitle

\author{\textsc{Óscar Bermúdez,\\Francisco David Charte,\\Ignacio Cordón,\\José Carlos Entrena,\\Mario Román} % Author
\\{\textit{Universidad de Granada}}} % Institution

\date{\today} % Date

%----------------------------------------------------------------------------------------

\begin{document}

\maketitle % Print the title section


%----------------------------------------------------------------------------------------
%	ABSTRACT AND KEYWORDS
%----------------------------------------------------------------------------------------

\renewcommand{\abstractname}{Resumen} % Uncomment to change the name of the abstract to something else

%\begin{abstract}
%Morbi tempor congue porta. Proin semper, leo vitae faucibus dictum, metus mauris lacinia lorem, ac congue leo felis eu turpis. Sed nec nunc pellentesque, gravida eros at, porttitor ipsum. Praesent consequat urna a lacus lobortis ultrices eget ac metus. In tempus hendrerit rhoncus. Mauris dignissim turpis id sollicitudin lacinia. Praesent libero tellus, fringilla nec ullamcorper at, ultrices id nulla. Phasellus placerat a tellus a malesuada.
%\end{abstract}

%\hspace*{3,6mm}\textit{Keywords:} lorem , ipsum , dolor , sit amet , lectus % Keywords

%\vspace{30pt} % Some vertical space between the abstract and first section


{\parskip=2pt
  \tableofcontents
}
\pagebreak

%----------------------------------------------------------------------------------------
%	ESSAY BODY
%----------------------------------------------------------------------------------------

% \section*{Introduction}
% 
% This statement requires citation \cite{Smith:2012qr}; this one does too \cite{Smith:2013jd}. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean dictum lacus sem, ut varius ante dignissim ac. Sed a mi quis lectus feugiat aliquam. Nunc sed vulputate velit. Sed commodo metus vel felis semper, quis rutrum odio vulputate. Donec a elit porttitor, facilisis nisl sit amet, dignissim arcu. Vivamus accumsan pellentesque nulla at euismod. Duis porta rutrum sem, eu facilisis mi varius sed. Suspendisse potenti. Mauris rhoncus neque nisi, ut laoreet augue pretium luctus. Vestibulum sit amet luctus sem, luctus ultrices leo. Aenean vitae sem leo.
% 
% Nullam semper quam at ante convallis posuere. Ut faucibus tellus ac massa luctus consectetur. Nulla pellentesque tortor et aliquam vehicula. Maecenas imperdiet euismod enim ut pharetra. Suspendisse pulvinar sapien vitae placerat pellentesque. Nulla facilisi. Aenean vitae nunc venenatis, vehicula neque in, congue ligula.
% 
% Pellentesque quis neque fringilla, varius ligula quis, malesuada dolor. Aenean malesuada urna porta, condimentum nisl sed, scelerisque nisi. Suspendisse ac orci quis massa porta dignissim. Morbi sollicitudin, felis eget tristique laoreet, ante lacus pretium lacus, nec ornare sem lorem a velit. Pellentesque eu erat congue, ullamcorper ante ut, tristique turpis. Nam sodales mi sed nisl tincidunt vestibulum. Interdum et malesuada fames ac ante ipsum primis in faucibus.
% 
% %------------------------------------------------
% 
% \section*{Section Name}
% 
% Cras gravida, est vel interdum euismod, tortor mi lobortis mi, quis adipiscing elit lacus ut orci. Phasellus nec fringilla nisi, ut vestibulum neque. Aenean non risus eu nunc accumsan condimentum at sed ipsum.
% \begin{wrapfigure}{l}{0.4\textwidth} % Inline image example
% \begin{center}
% \includegraphics[width=0.38\textwidth]{fish.png}
% \end{center}
% \caption{Fish}
% \end{wrapfigure}
% Aliquam fringilla non diam sed varius. Suspendisse tellus felis, hendrerit non bibendum ut, adipiscing vitae diam. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla lobortis purus eget nisl scelerisque, commodo rhoncus lacus porta. Vestibulum vitae turpis tincidunt, varius dolor in, dictum lectus. Aenean ac ornare augue, ac facilisis purus. Sed leo lorem, molestie sit amet fermentum id, suscipit ut sem. Vestibulum orci arcu, vehicula sed tortor id, ornare dapibus lorem. Praesent aliquet iaculis lacus nec fermentum. Morbi eleifend blandit dolor, pharetra hendrerit neque ornare vel. Nulla ornare, nisl eget imperdiet ornare, libero enim interdum mi, ut lobortis quam velit bibendum nibh.
% 
% Morbi tempor congue porta. Proin semper, leo vitae faucibus dictum, metus mauris lacinia lorem, ac congue leo felis eu turpis. Sed nec nunc pellentesque, gravida eros at, porttitor ipsum. Praesent consequat urna a lacus lobortis ultrices eget ac metus. In tempus hendrerit rhoncus. Mauris dignissim turpis id sollicitudin lacinia. Praesent libero tellus, fringilla nec ullamcorper at, ultrices id nulla. Phasellus placerat a tellus a malesuada.
% 
% %------------------------------------------------
% 
% \section*{Conclusion}
% 
% Fusce in nibh augue. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. In dictum accumsan sapien, ut hendrerit nisi. Phasellus ut nulla mauris. Phasellus sagittis nec odio sed posuere. Vestibulum porttitor dolor quis suscipit bibendum. Mauris risus lectus, cursus vitae hendrerit posuere, congue ac est. Suspendisse commodo eu eros non cursus. Mauris ultrices venenatis dolor, sed aliquet odio tempor pellentesque. Duis ultricies, mauris id lobortis vulputate, tellus turpis eleifend elit, in gravida leo tortor ultricies est. Maecenas vitae ipsum at dui sodales condimentum a quis dui. Nam mi sapien, lobortis ac blandit eget, dignissim quis nunc.
% 
% \begin{enumerate}
% \item First numbered list item
% \item Second numbered list item
% \end{enumerate}
% 
% Donec luctus tincidunt mauris, non ultrices ligula aliquam id. Sed varius, magna a faucibus congue, arcu tellus pellentesque nisl, vel laoreet magna eros et magna. Vivamus lobortis elit eu dignissim ultrices. Fusce erat nulla, ornare at dolor quis, rhoncus venenatis velit. Donec sed elit mi. Sed semper tellus a convallis viverra. Maecenas mi lorem, placerat sit amet sem quis, adipiscing tincidunt turpis. Cras a urna et tellus dictum eleifend. Fusce dignissim lectus risus, in bibendum tortor lacinia interdum.

%----------------------------------------------------------------------------------------
%	BIBLIOGRAPHY
%----------------------------------------------------------------------------------------

% \bibliographystyle{unsrt}
% 
% \bibliography{sample}

%----------------------------------------------------------------------------------------



%% Estructura de la práctica
% Para cada algoritmo, debería escribirse:
%  - Enunciado formal del problema
%  - Función que se memoriza para aplicar programación dinámica.
%  - Implementación en Ruby o pseudocódigo
%  - Análisis de eficiencia
%  - Implementación en C++ si es necesaria por eficiencia

\section{Compraventa de acciones}
	\subsection{Enunciado}
      Dado un array con valores numéricos, queremos calcular las posiciones a y b que nos den la mayor diferencia $array[b]-array[a]$, con la condición de que la posición b esté más a la derecha que a.
	  Simularemos de esta forma una operación de compraventa de acciones en la que queremos obtener la mayor ganancia, donde el array representa el precio de las acciones a lo largo de un periodo de tiempo, y tenemos la natural restricción de que hemos de comprar las acciones antes de venderlas. 

\section{Terminales de venta}
  \subsection{Enunciado}
    Dado un conjunto de monedas $M = \{m_1, m_2, \dots, m_n\} \subset \mathbb{N}$, buscamos frecuencias $\{f_1,f_2,\dots f_n\} \subset \mathbb{N}$ de 
    monedas que cumplan que su suma es igual a un precio dado:
    \begin{equation}
     \sum_{i=1}^n m_i f_i = P
    \end{equation}
    Y que minimicen el número total de monedas:
    \begin{equation}
     \sum_{i=1}^n f_i
    \end{equation}
    
    En nuestro caso, vamos a suponer además que las monedas están ordenadas como
    $m_1 < m_2 < \dots < m_n$. 
    
  \subsection{Algoritmo}
    Podemos aplicar programación dinámica sabiendo que se cumple el principio de optimalidad.
    Cualquier subconjunto de una solución óptima debería ser también una solución óptima para
    su suma, ya que si no lo fuera, podría sustituirse por el óptimo, mejorando el óptimo global.
    
    En particular, el subconjunto de monedas sin la última moneda es también una solución óptima.
    Definimos la función $g: \mathbb{N} \to \mathbb{N}$, donde $g(P)$ será el número
    mínimo de monedas necesarias para sumar un precio $P$. Conocemos el caso base trivial $g(0) = 0$ y
    usando la propiedad anterior, definimos la siguiente relación de recurrencia:
    \begin{equation}
      g(p) = \min_{m_i \in M} (1 + g(p - m_i))
    \end{equation}
    Ya que la solución óptima debe ser de esa forma para alguna moneda $m_i$.
  
    Aplicamos programación dinámica memorizando las imágenes por esta función.
  
\section{Problema del viajante de comercio}
  \subsection{Enunciado}
  	Dada una lista $S$ de $n$ ciudades, representadas como puntos en el plano:
  	\begin{equation}
  	    S = [(x_0,y_0), (x_1,y_1), \dots (x_{n-1},y_{n-1})] \subset \mathbb{R}^2
  	\end{equation}
  	Y definiendo la longitud de recorrer una lista como la suma de las distancias de cada ciudad a la siguiente:
  	\begin{equation}
  	    long(S) = \sum_{i \in \mathbb{Z}_n} dist((x_i,y_i), (x_{i+1}, y_{i+1})) = \sum_{i \in \mathbb{Z}_n} \sqrt{(x_i-x_{i+1})^2 + (y_i-y_{i+1})^2}
  	\end{equation}
  	El objetivo es encontrar la permutación de la lista $\sigma : \mathbb{Z}_n \leftrightarrow \mathbb{Z}_n$, verificando que su longitud sea mínima:
  	\begin{equation}
  	    long(\sigma(S)) = long([(x_{\sigma(1)},y_{\sigma(1)}), (x_{\sigma(2)},y_{\sigma(2)}), \dots, (x_{\sigma(n)},y_{\sigma(n)})])
      \end{equation}
      

\section{Caminos mínimos en grafos}
  \subsection{Enunciado}
    Sea $G=(V,E)$ un grafo con $n$ vértices $V$ y un conjunto de aristas $E$.
  
  
  \subsection{Algoritmo de Dijkstra}
    
  
  \subsection{Algoritmo de Bellman-Ford}
    Para el algoritmo de Bellman-Ford asumimos que el grafo no contiene ciclos de peso negativo.
    Fijado un vértice $s$, definimos $g(a,m)$ como la distancia del camino mínimo entre $s$ y $a$
    usando hasta $m$ aristas.
    
    Trivialmente, la distancia mínima desde $s$ hasta $a$ será $g(a,n-1)$, ya que no puede
    haber ciclos de peso negativo. Podemos calcular entonces la función usando recursividad:
    \begin{equation} 
      \begin{split}
	g(s,0)  &=  0 \\
	g(u,0)  &=  \infty \\
	g(u,m)  &=  \min_{v \in V} \{g(v,m-1) + w(v,u)\} \\
      \end{split} 
    \end{equation}

    Para el problema APSP se nos pide que apliquemos este algoritmo $n$ veces sobre cada uno
    de los posibles nodos iniciales.
  
    \subsubsection{Requisitos y eficiencia}
      Para poder ejecutar el algoritmo de Bellman-Ford debemos requerir que el grafo
      no contenga ciclos de peso negativo.
      
      
      
  \subsection{Algoritmo de Floyd-Warshall}
    Para el algoritmo de Floyd-Warshall asumimos que el grafo no contiene ciclos de peso negativo.
    Dados vértices $u,v \in V$, llamaremos $g(u,v,m)$ a la distancia del camino más corto de $u$
    hasta $v$ pudiendo usar sólo los nodos $[1..m]$ como nodos intermedios.
    
    Podemos calcular entonces la función usando recursividad, sabiendo que el
    camino mínimo está obligado a pasar o no pasar por el nodo $k$ y que los
    subcaminos de un camino mínimo son también mínimos:
    \begin{equation}
      \begin{split}
      g(u,v,0) &= w(u,v) \\
      g(u,v,m) &= min\{g(u,v,m-1), g(u,k,k-1)+g(k,v,k-1)\}
      \end{split}
    \end{equation}

  
  \subsection{Algoritmo de Johnson}

\end{document}